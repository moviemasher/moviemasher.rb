<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>RDoc Documentation</title>

<link href="./fonts.css" rel="stylesheet">
<link href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/navigation.js"></script>
<script src="./js/search_index.js"></script>
<script src="./js/search.js"></script>
<script src="./js/searcher.js"></script>
<script src="./js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>


    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./Documentation_md.html">Documentation</a>
  
    <li><a href="./README_md.html">README</a>
  
  </ul>
</div>

    <div id="classindex-section" class="nav-section">
  <h3>Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./MovieMasher.html">MovieMasher</a>
  
    <li><a href="./MovieMasher/Asset.html">MovieMasher::Asset</a>
  
    <li><a href="./MovieMasher/AwsInitService.html">MovieMasher::AwsInitService</a>
  
    <li><a href="./MovieMasher/AzureInitService.html">MovieMasher::AzureInitService</a>
  
    <li><a href="./MovieMasher/Callback.html">MovieMasher::Callback</a>
  
    <li><a href="./MovieMasher/Chain.html">MovieMasher::Chain</a>
  
    <li><a href="./MovieMasher/ChainEffects.html">MovieMasher::ChainEffects</a>
  
    <li><a href="./MovieMasher/ChainModule.html">MovieMasher::ChainModule</a>
  
    <li><a href="./MovieMasher/Clip.html">MovieMasher::Clip</a>
  
    <li><a href="./MovieMasher/Defaults.html">MovieMasher::Defaults</a>
  
    <li><a href="./MovieMasher/Destination.html">MovieMasher::Destination</a>
  
    <li><a href="./MovieMasher/DownloadService.html">MovieMasher::DownloadService</a>
  
    <li><a href="./MovieMasher/Error/Configuration.html">MovieMasher::Error::Configuration</a>
  
    <li><a href="./MovieMasher/Error/Critical.html">MovieMasher::Error::Critical</a>
  
    <li><a href="./MovieMasher/Error/Job.html">MovieMasher::Error::Job</a>
  
    <li><a href="./MovieMasher/Error/JobInput.html">MovieMasher::Error::JobInput</a>
  
    <li><a href="./MovieMasher/Error/JobOutput.html">MovieMasher::Error::JobOutput</a>
  
    <li><a href="./MovieMasher/Error/JobRender.html">MovieMasher::Error::JobRender</a>
  
    <li><a href="./MovieMasher/Error/JobSource.html">MovieMasher::Error::JobSource</a>
  
    <li><a href="./MovieMasher/Error/JobSyntax.html">MovieMasher::Error::JobSyntax</a>
  
    <li><a href="./MovieMasher/Error/JobUpload.html">MovieMasher::Error::JobUpload</a>
  
    <li><a href="./MovieMasher/Error/Object.html">MovieMasher::Error::Object</a>
  
    <li><a href="./MovieMasher/Error/Parameter.html">MovieMasher::Error::Parameter</a>
  
    <li><a href="./MovieMasher/Error/Runtime.html">MovieMasher::Error::Runtime</a>
  
    <li><a href="./MovieMasher/Error/State.html">MovieMasher::Error::State</a>
  
    <li><a href="./MovieMasher/Error/Todo.html">MovieMasher::Error::Todo</a>
  
    <li><a href="./MovieMasher/Evaluate.html">MovieMasher::Evaluate</a>
  
    <li><a href="./MovieMasher/FileDownloadService.html">MovieMasher::FileDownloadService</a>
  
    <li><a href="./MovieMasher/FileHelper.html">MovieMasher::FileHelper</a>
  
    <li><a href="./MovieMasher/FileQueueService.html">MovieMasher::FileQueueService</a>
  
    <li><a href="./MovieMasher/FileUploadService.html">MovieMasher::FileUploadService</a>
  
    <li><a href="./MovieMasher/FilterHelpers.html">MovieMasher::FilterHelpers</a>
  
    <li><a href="./MovieMasher/FloatUtil.html">MovieMasher::FloatUtil</a>
  
    <li><a href="./MovieMasher/Hashable.html">MovieMasher::Hashable</a>
  
    <li><a href="./MovieMasher/HttpDownloadService.html">MovieMasher::HttpDownloadService</a>
  
    <li><a href="./MovieMasher/HttpUploadService.html">MovieMasher::HttpUploadService</a>
  
    <li><a href="./MovieMasher/HttpsDownloadService.html">MovieMasher::HttpsDownloadService</a>
  
    <li><a href="./MovieMasher/HttpsUploadService.html">MovieMasher::HttpsUploadService</a>
  
    <li><a href="./MovieMasher/InitService.html">MovieMasher::InitService</a>
  
    <li><a href="./MovieMasher/Input.html">MovieMasher::Input</a>
  
    <li><a href="./MovieMasher/Intermediate.html">MovieMasher::Intermediate</a>
  
    <li><a href="./MovieMasher/Job.html">MovieMasher::Job</a>
  
    <li><a href="./MovieMasher/Mash.html">MovieMasher::Mash</a>
  
    <li><a href="./MovieMasher/MetaReader.html">MovieMasher::MetaReader</a>
  
    <li><a href="./MovieMasher/Output.html">MovieMasher::Output</a>
  
    <li><a href="./MovieMasher/Parameters.html">MovieMasher::Parameters</a>
  
    <li><a href="./MovieMasher/Path.html">MovieMasher::Path</a>
  
    <li><a href="./MovieMasher/QueueService.html">MovieMasher::QueueService</a>
  
    <li><a href="./MovieMasher/S3DownloadService.html">MovieMasher::S3DownloadService</a>
  
    <li><a href="./MovieMasher/S3UploadService.html">MovieMasher::S3UploadService</a>
  
    <li><a href="./MovieMasher/Service.html">MovieMasher::Service</a>
  
    <li><a href="./MovieMasher/ShellHelper.html">MovieMasher::ShellHelper</a>
  
    <li><a href="./MovieMasher/Source.html">MovieMasher::Source</a>
  
    <li><a href="./MovieMasher/SqsQueueService.html">MovieMasher::SqsQueueService</a>
  
    <li><a href="./MovieMasher/TimeRange.html">MovieMasher::TimeRange</a>
  
    <li><a href="./MovieMasher/Transfer.html">MovieMasher::Transfer</a>
  
    <li><a href="./MovieMasher/UploadService.html">MovieMasher::UploadService</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main">


<p><img
src="https://github.com/moviemasher/moviemasher.rb/raw/master/README/logo-120x60.png">
<strong><a
href="https://github.com/moviemasher/moviemasher.js">moviemasher.js</a> |
<a
href="https://github.com/moviemasher/angular-moviemasher">angular-moviemasher</a>
| <a
href="https://github.com/moviemasher/moviemasher.rb">moviemasher.rb</a></strong></p>

<p><em>Ruby library for mashing up video, images and audio utilizing FFmpeg
and Ecasound</em></p>

<h1 id="label-moviemasher.rb">moviemasher.rb<span><a href="#label-moviemasher.rb">&para;</a> <a href="#documentation">&uarr;</a></span></h1>
<hr>

<h3 id="label-RDoc+Documentation">RDoc <a href="Documentation_md.html">Documentation</a><span><a href="#label-RDoc+Documentation">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h5 id="label-Core+Classes%2FModules">Core Classes/Modules<span><a href="#label-Core+Classes%2FModules">&para;</a> <a href="#documentation">&uarr;</a></span></h5>
<ul><li>
<p><a href="MovieMasher.html">MovieMasher</a></p>
</li><li>
<p><a href="MovieMasher/Job.html">MovieMasher::Job</a></p>
</li><li>
<p><a href="MovieMasher/Input.html">MovieMasher::Input</a></p>
</li><li>
<p><a href="MovieMasher/Output.html">MovieMasher::Output</a></p>
</li><li>
<p><a href="MovieMasher/Transfer.html">MovieMasher::Transfer</a></p>
</li><li>
<p><a href="MovieMasher/Source.html">MovieMasher::Source</a></p>
</li><li>
<p><a href="MovieMasher/Destination.html">MovieMasher::Destination</a></p>
</li><li>
<p><a href="MovieMasher/Callback.html">MovieMasher::Callback</a></p>
</li></ul>

<h5 id="label-Core+Usage">Core Usage<span><a href="#label-Core+Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<pre class="ruby">    <span class="ruby-identifier">require_relative</span> <span class="ruby-string">&#39;lib/moviemasher.rb&#39;</span>
    <span class="ruby-identifier">job</span> = { :<span class="ruby-identifier">inputs</span> =<span class="ruby-operator">&gt;</span> [], :<span class="ruby-identifier">base_source</span> =<span class="ruby-operator">&gt;</span> {}, :<span class="ruby-identifier">outputs</span> =<span class="ruby-operator">&gt;</span> [], :<span class="ruby-identifier">destination</span> =<span class="ruby-operator">&gt;</span> {} }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">base_source</span>][:<span class="ruby-identifier">path</span>] = <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">destination</span>][:<span class="ruby-identifier">path</span>] = <span class="ruby-string">&#39;~/&#39;</span>
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;video&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.mov&#39;</span>, :<span class="ruby-identifier">fill</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;crop&#39;</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;image&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.jpg&#39;</span>, :<span class="ruby-identifier">length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;audio&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.mp3&#39;</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">outputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;video&#39;</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;output.mp4&#39;</span> }
    <span class="ruby-constant">MovieMasher</span>.<span class="ruby-identifier">process</span> <span class="ruby-identifier">job</span>
</pre>

<p>When inputs use relative URLs like the example above then either the input
or the job needs a <code>base_source</code> key containing a <a
href="MovieMasher/Transfer.html">MovieMasher::Transfer</a> object to
resolve them to absolute ones. Likewise, a <code>destination</code> key
containing a <a
href="MovieMasher/Destination.html">MovieMasher::Destination</a> object can
be placed either in an output or the job for all outputs to use to resolve
relative locations. We&#39;ve set them both to our home directory in this
case so all files live there.</p>

<p>Inputs are arranged consecutively one after the other - at least the visual
ones. Audio inputs will by default start where the last audio or video with
audio ends, so if the video input in our example has audio the audio input
will start after it, otherwise they will begin at the same time. You can
also explicitly play an audio track at any time by specify its
<code>start</code> value.</p>

<p>In addition to raw media (video, audio and images) it&#39;s also possible
to output image sequences from video tracks and waveform graphics from
audio tracks. In terms of inputs, it&#39;s also possible to provide a mash
JSON payload like moviemasher.js creates. Within a mash input, visual
elements can be composited together just like audio elements can in the job
itself.</p>

<p>The visual composition of inputs is controlled by <em>effect, scaler</em>
and <em>merger</em> media, which are all arrangements of FFmpeg
<em>filters</em>. Only a subset of filters and their parameters are
supported at this time, but they include basics like crop, scale, fade and
drawtext. That last one relies on <em>font</em> media, the last of the
modular types.</p>

<p><strong>To regenerate this documentation <code>cd</code> to project
directory and execute:</strong></p>

<pre>rdoc --visibility=public -o doc --main=&#39;Documentation.md&#39; --fmt=darkfish --markup=tomdoc --tab-width=2 --no-dcov --exclude=&#39;/spec&#39; --exclude=&#39;/log&#39; --exclude=&#39;/Gemfile&#39; --exclude=&#39;/tmp&#39; --exclude=&#39;/config&#39; --exclude=&#39;/index.rb&#39; --exclude=&#39;/doc&#39; --exclude=&#39;/bin&#39; --exclude=&#39;/Rakefile&#39; --exclude=&#39;/Docker&#39; --exclude=&#39;/README-short&#39; --exclude=&#39;/LICENSE&#39;</pre>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

