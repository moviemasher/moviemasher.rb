<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body>
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./Documentation_md.html">Documentation</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./MovieMasher.html">MovieMasher</a>
  
    <li><a href="./MovieMasher/AV.html">MovieMasher::AV</a>
  
    <li><a href="./MovieMasher/Callback.html">MovieMasher::Callback</a>
  
    <li><a href="./MovieMasher/Chain.html">MovieMasher::Chain</a>
  
    <li><a href="./MovieMasher/ChainEffects.html">MovieMasher::ChainEffects</a>
  
    <li><a href="./MovieMasher/ChainModule.html">MovieMasher::ChainModule</a>
  
    <li><a href="./MovieMasher/ChainOverlay.html">MovieMasher::ChainOverlay</a>
  
    <li><a href="./MovieMasher/ChainScaler.html">MovieMasher::ChainScaler</a>
  
    <li><a href="./MovieMasher/Configuration.html">MovieMasher::Configuration</a>
  
    <li><a href="./MovieMasher/Defaults.html">MovieMasher::Defaults</a>
  
    <li><a href="./MovieMasher/Error.html">MovieMasher::Error</a>
  
    <li><a href="./MovieMasher/Error/Configuration.html">MovieMasher::Error::Configuration</a>
  
    <li><a href="./MovieMasher/Error/Critical.html">MovieMasher::Error::Critical</a>
  
    <li><a href="./MovieMasher/Error/Job.html">MovieMasher::Error::Job</a>
  
    <li><a href="./MovieMasher/Error/JobInput.html">MovieMasher::Error::JobInput</a>
  
    <li><a href="./MovieMasher/Error/JobOutput.html">MovieMasher::Error::JobOutput</a>
  
    <li><a href="./MovieMasher/Error/JobRender.html">MovieMasher::Error::JobRender</a>
  
    <li><a href="./MovieMasher/Error/JobSource.html">MovieMasher::Error::JobSource</a>
  
    <li><a href="./MovieMasher/Error/JobUpload.html">MovieMasher::Error::JobUpload</a>
  
    <li><a href="./MovieMasher/Error/Object.html">MovieMasher::Error::Object</a>
  
    <li><a href="./MovieMasher/Error/Parameter.html">MovieMasher::Error::Parameter</a>
  
    <li><a href="./MovieMasher/Error/Runtime.html">MovieMasher::Error::Runtime</a>
  
    <li><a href="./MovieMasher/Error/State.html">MovieMasher::Error::State</a>
  
    <li><a href="./MovieMasher/Error/Todo.html">MovieMasher::Error::Todo</a>
  
    <li><a href="./MovieMasher/Evaluate.html">MovieMasher::Evaluate</a>
  
    <li><a href="./MovieMasher/Fill.html">MovieMasher::Fill</a>
  
    <li><a href="./MovieMasher/Filter.html">MovieMasher::Filter</a>
  
    <li><a href="./MovieMasher/FilterEvaluated.html">MovieMasher::FilterEvaluated</a>
  
    <li><a href="./MovieMasher/FilterHash.html">MovieMasher::FilterHash</a>
  
    <li><a href="./MovieMasher/FilterHelpers.html">MovieMasher::FilterHelpers</a>
  
    <li><a href="./MovieMasher/FilterSetpts.html">MovieMasher::FilterSetpts</a>
  
    <li><a href="./MovieMasher/FilterSource.html">MovieMasher::FilterSource</a>
  
    <li><a href="./MovieMasher/FilterSourceColor.html">MovieMasher::FilterSourceColor</a>
  
    <li><a href="./MovieMasher/FilterSourceMovie.html">MovieMasher::FilterSourceMovie</a>
  
    <li><a href="./MovieMasher/FloatUtil.html">MovieMasher::FloatUtil</a>
  
    <li><a href="./MovieMasher/Gain.html">MovieMasher::Gain</a>
  
    <li><a href="./MovieMasher/Graph.html">MovieMasher::Graph</a>
  
    <li><a href="./MovieMasher/GraphMash.html">MovieMasher::GraphMash</a>
  
    <li><a href="./MovieMasher/GraphRaw.html">MovieMasher::GraphRaw</a>
  
    <li><a href="./MovieMasher/Hashable.html">MovieMasher::Hashable</a>
  
    <li><a href="./MovieMasher/Info.html">MovieMasher::Info</a>
  
    <li><a href="./MovieMasher/Input.html">MovieMasher::Input</a>
  
    <li><a href="./MovieMasher/Intermediate.html">MovieMasher::Intermediate</a>
  
    <li><a href="./MovieMasher/Job.html">MovieMasher::Job</a>
  
    <li><a href="./MovieMasher/Layer.html">MovieMasher::Layer</a>
  
    <li><a href="./MovieMasher/LayerColor.html">MovieMasher::LayerColor</a>
  
    <li><a href="./MovieMasher/LayerModule.html">MovieMasher::LayerModule</a>
  
    <li><a href="./MovieMasher/LayerRaw.html">MovieMasher::LayerRaw</a>
  
    <li><a href="./MovieMasher/LayerRawImage.html">MovieMasher::LayerRawImage</a>
  
    <li><a href="./MovieMasher/LayerRawVideo.html">MovieMasher::LayerRawVideo</a>
  
    <li><a href="./MovieMasher/LayerTheme.html">MovieMasher::LayerTheme</a>
  
    <li><a href="./MovieMasher/LayerTransition.html">MovieMasher::LayerTransition</a>
  
    <li><a href="./MovieMasher/Mash.html">MovieMasher::Mash</a>
  
    <li><a href="./MovieMasher/Method.html">MovieMasher::Method</a>
  
    <li><a href="./MovieMasher/Output.html">MovieMasher::Output</a>
  
    <li><a href="./MovieMasher/Path.html">MovieMasher::Path</a>
  
    <li><a href="./MovieMasher/Source.html">MovieMasher::Source</a>
  
    <li><a href="./MovieMasher/TimeRange.html">MovieMasher::TimeRange</a>
  
    <li><a href="./MovieMasher/Transfer.html">MovieMasher::Transfer</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">

<p><img
src="https://github.com/moviemasher/moviemasher.rb/raw/master/README/logo-120x60.png"
/> <strong><a
href="https://github.com/moviemasher/moviemasher.js">moviemasher.js</a> |
<a
href="https://github.com/moviemasher/angular-moviemasher">angular-moviemasher</a>
| <a
href="https://github.com/moviemasher/moviemasher.rb">moviemasher.rb</a></strong></p>

<p><em>Ruby library for mashing up video, images and audio utilizing FFmpeg
and Ecasound</em></p>

<h1 id="label-moviemasher.rb">moviemasher.rb<span><a href="#label-moviemasher.rb">&para;</a> <a href="#documentation">&uarr;</a></span></h1>
<hr style="height: 1px">

<h3 id="label-RDoc+Documentation">RDoc <a href="Documentation_md.html">Documentation</a><span><a href="#label-RDoc+Documentation">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h5 id="label-Core+Classes%2FModules">Core Classes/Modules<span><a href="#label-Core+Classes%2FModules">&para;</a> <a href="#documentation">&uarr;</a></span></h5>
<ul><li>
<p><a href="MovieMasher.html">MovieMasher</a></p>
</li><li>
<p><a href="MovieMasher/Job.html">MovieMasher::Job</a></p>
</li><li>
<p><a href="MovieMasher/Input.html">MovieMasher::Input</a></p>
</li><li>
<p><a href="MovieMasher/Output.html">MovieMasher::Output</a></p>
</li><li>
<p><a href="MovieMasher/Transfer.html">MovieMasher::Transfer</a></p>
</li><li>
<p><a href="MovieMasher/Callback.html">MovieMasher::Callback</a></p>
</li></ul>

<h5 id="label-Core+Usage">Core Usage<span><a href="#label-Core+Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<pre class="ruby">    <span class="ruby-identifier">require_relative</span> <span class="ruby-string">&#39;lib/moviemasher.rb&#39;</span>
    <span class="ruby-identifier">job</span> = { :<span class="ruby-identifier">inputs</span> =<span class="ruby-operator">&gt;</span> [], :<span class="ruby-identifier">base_source</span> =<span class="ruby-operator">&gt;</span> {}, :<span class="ruby-identifier">outputs</span> =<span class="ruby-operator">&gt;</span> [], :<span class="ruby-identifier">destination</span> =<span class="ruby-operator">&gt;</span> {} }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">base_source</span>][:<span class="ruby-identifier">path</span>] = <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">destination</span>][:<span class="ruby-identifier">path</span>] = <span class="ruby-string">&#39;~/&#39;</span>
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;video&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.mov&#39;</span>, :<span class="ruby-identifier">fill</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;crop&#39;</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;image&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.jpg&#39;</span>, :<span class="ruby-identifier">length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">inputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;audio&#39;</span>, :<span class="ruby-identifier">source</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;input.mp3&#39;</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> }
    <span class="ruby-identifier">job</span>[:<span class="ruby-identifier">outputs</span>] <span class="ruby-operator">&lt;&lt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;video&#39;</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;output.mp4&#39;</span> }
    <span class="ruby-constant">MovieMasher</span>.<span class="ruby-identifier">process</span> <span class="ruby-identifier">job</span>
</pre>

<p>When inputs use relative URLs like the example above then either the input
or the job needs a <code>base_source</code> object to resolve them to
absolute ones. Likewise, a <code>destination</code> object resolves the
location of outputs and can be placed either in them or in the job in order
to be available to all outputs. We&#39;ve set them both to our home
directory in this case so all files live there.</p>

<p>Inputs are arranged consecutively one after the other - at least the visual
ones. Audio inputs will by default start where the last audio or video with
audio ends, so if the video input in our example has audio the audio input
will start after it, otherwise they will begin at the same time. You can
also explicitly play an audio track at any time by specify its
<code>start</code> value.</p>

<p>In addition to raw media (video, audio and images) it&#39;s also possible
to output image sequences from video tracks and waveform graphics from
audio tracks. In terms of inputs, it&#39;s also possible to provide a mash
JSON payload like moviemasher.js creates. Within a mash input, visual
elements can be composited together just like audio elements can in the job
itself.</p>

<p>The visual composition of inputs is controlled by <em>effect, scaler</em>
and <em>merger</em> media, which are all arrangements of FFmpeg
<em>filters</em>. Only a subset of filters and their parameters are
supported at this time, but they include basics like crop, scale, fade and
drawtext. That last one relies on <em>font</em> media, the last of the
modular types.</p>

<p><strong>To regenerate this documentation <code>cd</code> to project
directory and execute:</strong></p>

<pre>rdoc --visibility=public -o doc --main=&#39;Documentation.md&#39; --fmt=darkfish --markup=tomdoc --tab-width=2 --no-dcov --exclude=&#39;/spec&#39; --exclude=&#39;/log&#39; --exclude=&#39;/Gemfile&#39; --exclude=&#39;/tmp&#39; --exclude=&#39;/config&#39; --exclude=&#39;/index.rb&#39; --exclude=&#39;/doc&#39; --exclude=&#39;/bin&#39; --exclude=&#39;/Rakefile&#39; --exclude=&#39;/Docker&#39; --exclude=&#39;/README&#39; --exclude=&#39;/LICENSE&#39;</pre>
</div>


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

